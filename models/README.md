# models

## 热点更新
#### 设定
1. 一分钟发一万条微博.
2. 

#### 问题
1. 不能每变化一次更新一次.
#### 方案一:
使用潮汐管道, 设置最低值和最大值, 当热点数量超过最大值时, 进行更新.
更新方案:
1. 超时, 设定热点时间范围, 比如24小时, 过了这个时间的热点从管道删除.
2. 排序, 删除超时的后, 进行排序, 超出部分放在缓冲区域.


#### 方案二:
固定容量的热点队列, 定时清理超时的, 比如十分钟处理一次, 一分钟处理一次.
1. 热点队列记录微博ID.
2. 设置热点门槛分数和时间, 能够过滤掉大部分新发消息和旧消息, 过了门槛且不在队列和缓存中的放入缓存.
3. 设置缓冲区容量, 当不满的时候, 过了门槛直接放入缓冲区, 当缓冲区满了的时候, 遍历缓冲区消息, 找到最小值, 以最小值为阈值, 小于阈值的消息直接排除掉.

#### 方案三:
